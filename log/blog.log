2020-08-04 00:08:30.422  INFO 1000 --- [restartedMain] com.wjw.blog.BlogApplication             : Starting BlogApplication on LAPTOP-389VIUI1 with PID 1000 (E:\java workspace\blog\target\classes started by 王金伟 in E:\java workspace\blog)
2020-08-04 00:08:30.438 DEBUG 1000 --- [restartedMain] com.wjw.blog.BlogApplication             : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-08-04 00:08:30.439  INFO 1000 --- [restartedMain] com.wjw.blog.BlogApplication             : No active profile set, falling back to default profiles: default
2020-08-04 00:08:30.510  INFO 1000 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-08-04 00:08:30.511  INFO 1000 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-08-04 00:08:31.945  INFO 1000 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-08-04 00:08:31.953  INFO 1000 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-04 00:08:31.954  INFO 1000 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-08-04 00:08:32.054  INFO 1000 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-04 00:08:32.054  INFO 1000 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1543 ms
2020-08-04 00:08:32.792  INFO 1000 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-04 00:08:32.935  INFO 1000 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-08-04 00:08:33.323  INFO 1000 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-08-04 00:08:33.366  INFO 1000 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-08-04 00:08:33.378  INFO 1000 --- [restartedMain] com.wjw.blog.BlogApplication             : Started BlogApplication in 3.42 seconds (JVM running for 4.661)
2020-08-04 00:08:36.169  INFO 1000 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-04 00:08:36.170  INFO 1000 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-04 00:08:36.185  INFO 1000 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2020-08-04 00:08:36.232  INFO 1000 --- [http-nio-8080-exec-1] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.index', args=[{}, 1]}
2020-08-04 00:08:36.282  INFO 1000 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-04 00:08:37.124  INFO 1000 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-04 00:08:37.132 DEBUG 1000 --- [http-nio-8080-exec-1] c.w.b.dao.BlogDao.getAllBlogShow_COUNT   : ==>  Preparing: SELECT count(0) FROM blog.blog b, blog.type t, blog.user u WHERE b.type_id = t.id AND b.user_id = u.id AND b.publish = 1 
2020-08-04 00:08:37.155 DEBUG 1000 --- [http-nio-8080-exec-1] c.w.b.dao.BlogDao.getAllBlogShow_COUNT   : ==> Parameters: 
2020-08-04 00:08:37.181 DEBUG 1000 --- [http-nio-8080-exec-1] c.w.b.dao.BlogDao.getAllBlogShow_COUNT   : <==      Total: 1
2020-08-04 00:08:37.189 DEBUG 1000 --- [http-nio-8080-exec-1] com.wjw.blog.dao.BlogDao.getAllBlogShow  : ==>  Preparing: select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name, u.nickname, u.avatar from blog.blog b, blog.type t, blog.user u where b.type_id = t.id and b.user_id = u.id and b.publish = 1 order by b.update_time desc LIMIT ? 
2020-08-04 00:08:37.190 DEBUG 1000 --- [http-nio-8080-exec-1] com.wjw.blog.dao.BlogDao.getAllBlogShow  : ==> Parameters: 4(Integer)
2020-08-04 00:08:37.195 DEBUG 1000 --- [http-nio-8080-exec-1] com.wjw.blog.dao.BlogDao.getAllBlogShow  : <==      Total: 4
2020-08-04 00:08:37.203 DEBUG 1000 --- [http-nio-8080-exec-1] com.wjw.blog.dao.TypeDao.getAllType      : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from blog.type t, blog.blog b where t.id = b.type_id 
2020-08-04 00:08:37.203 DEBUG 1000 --- [http-nio-8080-exec-1] com.wjw.blog.dao.TypeDao.getAllType      : ==> Parameters: 
2020-08-04 00:08:37.209 DEBUG 1000 --- [http-nio-8080-exec-1] com.wjw.blog.dao.TypeDao.getAllType      : <==      Total: 14
2020-08-04 00:08:37.213 DEBUG 1000 --- [http-nio-8080-exec-1] com.wjw.blog.dao.TagDao.getAllTag        : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from blog.tag t, blog.blog b, blog.blog_tag bt where t.id = bt.tag_id and b.id = bt.blog_id 
2020-08-04 00:08:37.213 DEBUG 1000 --- [http-nio-8080-exec-1] com.wjw.blog.dao.TagDao.getAllTag        : ==> Parameters: 
2020-08-04 00:08:37.219 DEBUG 1000 --- [http-nio-8080-exec-1] com.wjw.blog.dao.TagDao.getAllTag        : <==      Total: 14
2020-08-04 00:08:37.221 DEBUG 1000 --- [http-nio-8080-exec-1] c.w.b.dao.BlogDao.getAllRecommendBlog    : ==>  Preparing: select id, title, recommend from blog.blog where recommend = 1 
2020-08-04 00:08:37.221 DEBUG 1000 --- [http-nio-8080-exec-1] c.w.b.dao.BlogDao.getAllRecommendBlog    : ==> Parameters: 
2020-08-04 00:08:37.226 DEBUG 1000 --- [http-nio-8080-exec-1] c.w.b.dao.BlogDao.getAllRecommendBlog    : <==      Total: 13
2020-08-04 00:08:37.226  INFO 1000 --- [http-nio-8080-exec-1] com.wjw.blog.aspect.LogAspect            : Result : index
2020-08-04 00:08:40.431  INFO 1000 --- [http-nio-8080-exec-5] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/blog/1596460700479', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.blog', args=[1596460700479, {}]}
2020-08-04 00:08:40.436 DEBUG 1000 --- [http-nio-8080-exec-5] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==>  Preparing: select b.id bid, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time, b.create_time, b.comment, u.nickname,u.avatar, t.id tid ,t.name from blog.blog b,blog.user u,blog.tag t,blog.blog_tag tb where b.user_id = u.id and tb.blog_id = b.id and tb.tag_id = t.id and b.id = ? 
2020-08-04 00:08:40.436 DEBUG 1000 --- [http-nio-8080-exec-5] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==> Parameters: 1596460700479(Long)
2020-08-04 00:08:40.438 DEBUG 1000 --- [http-nio-8080-exec-5] com.wjw.blog.dao.BlogDao.getBlogDetail   : <==      Total: 1
2020-08-04 00:08:40.465  INFO 1000 --- [http-nio-8080-exec-5] com.wjw.blog.aspect.LogAspect            : Result : blog
2020-08-04 00:10:36.639  INFO 1000 --- [http-nio-8080-exec-5] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/blog/1596460700479', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.blog', args=[1596460700479, {}]}
2020-08-04 00:10:36.640 DEBUG 1000 --- [http-nio-8080-exec-5] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==>  Preparing: select b.id bid, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time, b.create_time, b.comment, u.nickname,u.avatar, t.id tid ,t.name from blog.blog b,blog.user u,blog.tag t,blog.blog_tag tb where b.user_id = u.id and tb.blog_id = b.id and tb.tag_id = t.id and b.id = ? 
2020-08-04 00:10:36.640 DEBUG 1000 --- [http-nio-8080-exec-5] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==> Parameters: 1596460700479(Long)
2020-08-04 00:10:36.642 DEBUG 1000 --- [http-nio-8080-exec-5] com.wjw.blog.dao.BlogDao.getBlogDetail   : <==      Total: 1
2020-08-04 00:10:36.643  INFO 1000 --- [http-nio-8080-exec-5] com.wjw.blog.aspect.LogAspect            : Result : blog
2020-08-04 00:10:44.031  INFO 1000 --- [http-nio-8080-exec-2] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/blog/1596441327066', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.blog', args=[1596441327066, {}]}
2020-08-04 00:10:44.033 DEBUG 1000 --- [http-nio-8080-exec-2] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==>  Preparing: select b.id bid, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time, b.create_time, b.comment, u.nickname,u.avatar, t.id tid ,t.name from blog.blog b,blog.user u,blog.tag t,blog.blog_tag tb where b.user_id = u.id and tb.blog_id = b.id and tb.tag_id = t.id and b.id = ? 
2020-08-04 00:10:44.034 DEBUG 1000 --- [http-nio-8080-exec-2] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==> Parameters: 1596441327066(Long)
2020-08-04 00:10:44.036 DEBUG 1000 --- [http-nio-8080-exec-2] com.wjw.blog.dao.BlogDao.getBlogDetail   : <==      Total: 1
2020-08-04 00:10:44.042  INFO 1000 --- [http-nio-8080-exec-2] com.wjw.blog.aspect.LogAspect            : Result : blog
2020-08-04 00:11:23.148  INFO 4440 --- [restartedMain] com.wjw.blog.BlogApplication             : Starting BlogApplication on LAPTOP-389VIUI1 with PID 4440 (E:\java workspace\blog\target\classes started by 王金伟 in E:\java workspace\blog)
2020-08-04 00:11:23.152 DEBUG 4440 --- [restartedMain] com.wjw.blog.BlogApplication             : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-08-04 00:11:23.153  INFO 4440 --- [restartedMain] com.wjw.blog.BlogApplication             : No active profile set, falling back to default profiles: default
2020-08-04 00:11:23.206  INFO 4440 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-08-04 00:11:23.207  INFO 4440 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-08-04 00:11:24.825  INFO 4440 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-08-04 00:11:24.834  INFO 4440 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-04 00:11:24.835  INFO 4440 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-08-04 00:11:24.941  INFO 4440 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-04 00:11:24.941  INFO 4440 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1734 ms
2020-08-04 00:11:25.636  INFO 4440 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-04 00:11:25.735  INFO 4440 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-08-04 00:11:26.100  INFO 4440 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-08-04 00:11:26.142  INFO 4440 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-08-04 00:11:26.152  INFO 4440 --- [restartedMain] com.wjw.blog.BlogApplication             : Started BlogApplication in 3.503 seconds (JVM running for 4.816)
2020-08-04 00:11:30.002  INFO 4440 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-04 00:11:30.003  INFO 4440 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-04 00:11:30.012  INFO 4440 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2020-08-04 00:11:30.042  INFO 4440 --- [http-nio-8080-exec-1] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/blog/1596441327066', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.blog', args=[1596441327066, {}]}
2020-08-04 00:11:30.072  INFO 4440 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-04 00:11:30.930  INFO 4440 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-04 00:11:30.938 DEBUG 4440 --- [http-nio-8080-exec-1] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==>  Preparing: select b.id bid, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time, b.create_time, b.comment, u.nickname,u.avatar, t.id tid ,t.name from blog.blog b,blog.user u,blog.tag t,blog.blog_tag tb where b.user_id = u.id and tb.blog_id = b.id and tb.tag_id = t.id and b.id = ? 
2020-08-04 00:11:30.963 DEBUG 4440 --- [http-nio-8080-exec-1] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==> Parameters: 1596441327066(Long)
2020-08-04 00:11:30.991 DEBUG 4440 --- [http-nio-8080-exec-1] com.wjw.blog.dao.BlogDao.getBlogDetail   : <==      Total: 1
2020-08-04 00:11:31.029  INFO 4440 --- [http-nio-8080-exec-1] com.wjw.blog.aspect.LogAspect            : Result : blog
2020-08-04 00:11:31.777  INFO 4440 --- [http-nio-8080-exec-10] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/blog/1596441327066', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.blog', args=[1596441327066, {}]}
2020-08-04 00:11:31.779 DEBUG 4440 --- [http-nio-8080-exec-10] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==>  Preparing: select b.id bid, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time, b.create_time, b.comment, u.nickname,u.avatar, t.id tid ,t.name from blog.blog b,blog.user u,blog.tag t,blog.blog_tag tb where b.user_id = u.id and tb.blog_id = b.id and tb.tag_id = t.id and b.id = ? 
2020-08-04 00:11:31.780 DEBUG 4440 --- [http-nio-8080-exec-10] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==> Parameters: 1596441327066(Long)
2020-08-04 00:11:31.789 DEBUG 4440 --- [http-nio-8080-exec-10] com.wjw.blog.dao.BlogDao.getBlogDetail   : <==      Total: 1
2020-08-04 00:11:31.792  INFO 4440 --- [http-nio-8080-exec-10] com.wjw.blog.aspect.LogAspect            : Result : blog
2020-08-04 00:11:35.907  INFO 4440 --- [http-nio-8080-exec-2] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.index', args=[{}, 1]}
2020-08-04 00:11:35.933 DEBUG 4440 --- [http-nio-8080-exec-2] c.w.b.dao.BlogDao.getAllBlogShow_COUNT   : ==>  Preparing: SELECT count(0) FROM blog.blog b, blog.type t, blog.user u WHERE b.type_id = t.id AND b.user_id = u.id AND b.publish = 1 
2020-08-04 00:11:35.934 DEBUG 4440 --- [http-nio-8080-exec-2] c.w.b.dao.BlogDao.getAllBlogShow_COUNT   : ==> Parameters: 
2020-08-04 00:11:35.936 DEBUG 4440 --- [http-nio-8080-exec-2] c.w.b.dao.BlogDao.getAllBlogShow_COUNT   : <==      Total: 1
2020-08-04 00:11:35.937 DEBUG 4440 --- [http-nio-8080-exec-2] com.wjw.blog.dao.BlogDao.getAllBlogShow  : ==>  Preparing: select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name, u.nickname, u.avatar from blog.blog b, blog.type t, blog.user u where b.type_id = t.id and b.user_id = u.id and b.publish = 1 order by b.update_time desc LIMIT ? 
2020-08-04 00:11:35.938 DEBUG 4440 --- [http-nio-8080-exec-2] com.wjw.blog.dao.BlogDao.getAllBlogShow  : ==> Parameters: 4(Integer)
2020-08-04 00:11:35.942 DEBUG 4440 --- [http-nio-8080-exec-2] com.wjw.blog.dao.BlogDao.getAllBlogShow  : <==      Total: 4
2020-08-04 00:11:35.948 DEBUG 4440 --- [http-nio-8080-exec-2] com.wjw.blog.dao.TypeDao.getAllType      : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from blog.type t, blog.blog b where t.id = b.type_id 
2020-08-04 00:11:35.949 DEBUG 4440 --- [http-nio-8080-exec-2] com.wjw.blog.dao.TypeDao.getAllType      : ==> Parameters: 
2020-08-04 00:11:35.953 DEBUG 4440 --- [http-nio-8080-exec-2] com.wjw.blog.dao.TypeDao.getAllType      : <==      Total: 14
2020-08-04 00:11:35.956 DEBUG 4440 --- [http-nio-8080-exec-2] com.wjw.blog.dao.TagDao.getAllTag        : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from blog.tag t, blog.blog b, blog.blog_tag bt where t.id = bt.tag_id and b.id = bt.blog_id 
2020-08-04 00:11:35.957 DEBUG 4440 --- [http-nio-8080-exec-2] com.wjw.blog.dao.TagDao.getAllTag        : ==> Parameters: 
2020-08-04 00:11:35.960 DEBUG 4440 --- [http-nio-8080-exec-2] com.wjw.blog.dao.TagDao.getAllTag        : <==      Total: 14
2020-08-04 00:11:35.961 DEBUG 4440 --- [http-nio-8080-exec-2] c.w.b.dao.BlogDao.getAllRecommendBlog    : ==>  Preparing: select id, title, recommend from blog.blog where recommend = 1 
2020-08-04 00:11:35.962 DEBUG 4440 --- [http-nio-8080-exec-2] c.w.b.dao.BlogDao.getAllRecommendBlog    : ==> Parameters: 
2020-08-04 00:11:35.964 DEBUG 4440 --- [http-nio-8080-exec-2] c.w.b.dao.BlogDao.getAllRecommendBlog    : <==      Total: 13
2020-08-04 00:11:35.965  INFO 4440 --- [http-nio-8080-exec-2] com.wjw.blog.aspect.LogAspect            : Result : index
2020-08-04 00:11:37.925  INFO 4440 --- [http-nio-8080-exec-9] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/blog/1596460700479', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.blog', args=[1596460700479, {}]}
2020-08-04 00:11:37.930 DEBUG 4440 --- [http-nio-8080-exec-9] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==>  Preparing: select b.id bid, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time, b.create_time, b.comment, u.nickname,u.avatar, t.id tid ,t.name from blog.blog b,blog.user u,blog.tag t,blog.blog_tag tb where b.user_id = u.id and tb.blog_id = b.id and tb.tag_id = t.id and b.id = ? 
2020-08-04 00:11:37.931 DEBUG 4440 --- [http-nio-8080-exec-9] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==> Parameters: 1596460700479(Long)
2020-08-04 00:11:37.934 DEBUG 4440 --- [http-nio-8080-exec-9] com.wjw.blog.dao.BlogDao.getBlogDetail   : <==      Total: 1
2020-08-04 00:11:37.935  INFO 4440 --- [http-nio-8080-exec-9] com.wjw.blog.aspect.LogAspect            : Result : blog
2020-08-04 00:12:27.600  INFO 4440 --- [http-nio-8080-exec-5] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/blog/1596460700479', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.blog', args=[1596460700479, {}]}
2020-08-04 00:12:27.604 DEBUG 4440 --- [http-nio-8080-exec-5] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==>  Preparing: select b.id bid, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time, b.create_time, b.comment, u.nickname,u.avatar, t.id tid ,t.name from blog.blog b,blog.user u,blog.tag t,blog.blog_tag tb where b.user_id = u.id and tb.blog_id = b.id and tb.tag_id = t.id and b.id = ? 
2020-08-04 00:12:27.604 DEBUG 4440 --- [http-nio-8080-exec-5] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==> Parameters: 1596460700479(Long)
2020-08-04 00:12:27.606 DEBUG 4440 --- [http-nio-8080-exec-5] com.wjw.blog.dao.BlogDao.getBlogDetail   : <==      Total: 1
2020-08-04 00:12:27.607  INFO 4440 --- [http-nio-8080-exec-5] com.wjw.blog.aspect.LogAspect            : Result : blog
2020-08-04 00:14:23.965  INFO 15300 --- [restartedMain] com.wjw.blog.BlogApplication             : Starting BlogApplication on LAPTOP-389VIUI1 with PID 15300 (E:\java workspace\blog\target\classes started by 王金伟 in E:\java workspace\blog)
2020-08-04 00:14:23.967 DEBUG 15300 --- [restartedMain] com.wjw.blog.BlogApplication             : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-08-04 00:14:23.968  INFO 15300 --- [restartedMain] com.wjw.blog.BlogApplication             : No active profile set, falling back to default profiles: default
2020-08-04 00:14:24.013  INFO 15300 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-08-04 00:14:24.013  INFO 15300 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-08-04 00:14:25.374  INFO 15300 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-08-04 00:14:25.383  INFO 15300 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-04 00:14:25.383  INFO 15300 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-08-04 00:14:25.481  INFO 15300 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-04 00:14:25.482  INFO 15300 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1468 ms
2020-08-04 00:14:26.196  INFO 15300 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-04 00:14:26.295  INFO 15300 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-08-04 00:14:26.651  INFO 15300 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-08-04 00:14:26.691  INFO 15300 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-08-04 00:14:26.702  INFO 15300 --- [restartedMain] com.wjw.blog.BlogApplication             : Started BlogApplication in 3.188 seconds (JVM running for 4.421)
2020-08-04 00:14:29.060  INFO 15300 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-04 00:14:29.060  INFO 15300 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-04 00:14:29.071  INFO 15300 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2020-08-04 00:14:29.101  INFO 15300 --- [http-nio-8080-exec-1] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/blog/1596460700479', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.blog', args=[1596460700479, {}]}
2020-08-04 00:14:29.129  INFO 15300 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-04 00:14:30.069  INFO 15300 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-04 00:14:30.075 DEBUG 15300 --- [http-nio-8080-exec-1] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==>  Preparing: select b.id bid, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time, b.create_time, b.comment, u.nickname,u.avatar, t.id tid ,t.name from blog.blog b,blog.user u,blog.tag t,blog.blog_tag tb where b.user_id = u.id and tb.blog_id = b.id and tb.tag_id = t.id and b.id = ? 
2020-08-04 00:14:30.096 DEBUG 15300 --- [http-nio-8080-exec-1] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==> Parameters: 1596460700479(Long)
2020-08-04 00:14:30.121 DEBUG 15300 --- [http-nio-8080-exec-1] com.wjw.blog.dao.BlogDao.getBlogDetail   : <==      Total: 1
2020-08-04 00:14:30.158  INFO 15300 --- [http-nio-8080-exec-1] com.wjw.blog.aspect.LogAspect            : Result : blog
2020-08-04 00:14:34.201  INFO 15300 --- [http-nio-8080-exec-8] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/blog/1596460700479', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.blog', args=[1596460700479, {}]}
2020-08-04 00:14:34.204 DEBUG 15300 --- [http-nio-8080-exec-8] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==>  Preparing: select b.id bid, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time, b.create_time, b.comment, u.nickname,u.avatar, t.id tid ,t.name from blog.blog b,blog.user u,blog.tag t,blog.blog_tag tb where b.user_id = u.id and tb.blog_id = b.id and tb.tag_id = t.id and b.id = ? 
2020-08-04 00:14:34.204 DEBUG 15300 --- [http-nio-8080-exec-8] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==> Parameters: 1596460700479(Long)
2020-08-04 00:14:34.207 DEBUG 15300 --- [http-nio-8080-exec-8] com.wjw.blog.dao.BlogDao.getBlogDetail   : <==      Total: 1
2020-08-04 00:14:34.209  INFO 15300 --- [http-nio-8080-exec-8] com.wjw.blog.aspect.LogAspect            : Result : blog
2020-08-04 00:16:00.720  INFO 15300 --- [http-nio-8080-exec-10] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/blog/1596441327066', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.blog', args=[1596441327066, {}]}
2020-08-04 00:16:00.721 DEBUG 15300 --- [http-nio-8080-exec-10] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==>  Preparing: select b.id bid, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time, b.create_time, b.comment, u.nickname,u.avatar, t.id tid ,t.name from blog.blog b,blog.user u,blog.tag t,blog.blog_tag tb where b.user_id = u.id and tb.blog_id = b.id and tb.tag_id = t.id and b.id = ? 
2020-08-04 00:16:00.722 DEBUG 15300 --- [http-nio-8080-exec-10] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==> Parameters: 1596441327066(Long)
2020-08-04 00:16:00.724 DEBUG 15300 --- [http-nio-8080-exec-10] com.wjw.blog.dao.BlogDao.getBlogDetail   : <==      Total: 1
2020-08-04 00:16:00.729  INFO 15300 --- [http-nio-8080-exec-10] com.wjw.blog.aspect.LogAspect            : Result : blog
2020-08-04 00:17:16.610  INFO 7620 --- [restartedMain] com.wjw.blog.BlogApplication             : Starting BlogApplication on LAPTOP-389VIUI1 with PID 7620 (E:\java workspace\blog\target\classes started by 王金伟 in E:\java workspace\blog)
2020-08-04 00:17:16.612 DEBUG 7620 --- [restartedMain] com.wjw.blog.BlogApplication             : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-08-04 00:17:16.613  INFO 7620 --- [restartedMain] com.wjw.blog.BlogApplication             : No active profile set, falling back to default profiles: default
2020-08-04 00:17:16.664  INFO 7620 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-08-04 00:17:16.664  INFO 7620 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-08-04 00:17:18.020  INFO 7620 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-08-04 00:17:18.028  INFO 7620 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-04 00:17:18.028  INFO 7620 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-08-04 00:17:18.126  INFO 7620 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-04 00:17:18.126  INFO 7620 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1462 ms
2020-08-04 00:17:18.763  INFO 7620 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-04 00:17:18.858  INFO 7620 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-08-04 00:17:19.188  INFO 7620 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-08-04 00:17:19.221  INFO 7620 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-08-04 00:17:19.231  INFO 7620 --- [restartedMain] com.wjw.blog.BlogApplication             : Started BlogApplication in 3.056 seconds (JVM running for 4.273)
2020-08-04 00:17:21.310  INFO 7620 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-04 00:17:21.310  INFO 7620 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-04 00:17:21.322  INFO 7620 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2020-08-04 00:17:21.357  INFO 7620 --- [http-nio-8080-exec-1] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/blog/1596441327066', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.blog', args=[1596441327066, {}]}
2020-08-04 00:17:21.387  INFO 7620 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-04 00:17:22.276  INFO 7620 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-04 00:17:22.283 DEBUG 7620 --- [http-nio-8080-exec-1] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==>  Preparing: select b.id bid, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time, b.create_time, b.comment, u.nickname,u.avatar, t.id tid ,t.name from blog.blog b,blog.user u,blog.tag t,blog.blog_tag tb where b.user_id = u.id and tb.blog_id = b.id and tb.tag_id = t.id and b.id = ? 
2020-08-04 00:17:22.304 DEBUG 7620 --- [http-nio-8080-exec-1] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==> Parameters: 1596441327066(Long)
2020-08-04 00:17:22.326 DEBUG 7620 --- [http-nio-8080-exec-1] com.wjw.blog.dao.BlogDao.getBlogDetail   : <==      Total: 1
2020-08-04 00:17:22.368  INFO 7620 --- [http-nio-8080-exec-1] com.wjw.blog.aspect.LogAspect            : Result : blog
2020-08-04 00:17:24.800  INFO 7620 --- [http-nio-8080-exec-8] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/blog/1596441327066', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.blog', args=[1596441327066, {}]}
2020-08-04 00:17:24.803 DEBUG 7620 --- [http-nio-8080-exec-8] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==>  Preparing: select b.id bid, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time, b.create_time, b.comment, u.nickname,u.avatar, t.id tid ,t.name from blog.blog b,blog.user u,blog.tag t,blog.blog_tag tb where b.user_id = u.id and tb.blog_id = b.id and tb.tag_id = t.id and b.id = ? 
2020-08-04 00:17:24.804 DEBUG 7620 --- [http-nio-8080-exec-8] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==> Parameters: 1596441327066(Long)
2020-08-04 00:17:24.806 DEBUG 7620 --- [http-nio-8080-exec-8] com.wjw.blog.dao.BlogDao.getBlogDetail   : <==      Total: 1
2020-08-04 00:17:24.809  INFO 7620 --- [http-nio-8080-exec-8] com.wjw.blog.aspect.LogAspect            : Result : blog
2020-08-04 00:17:54.132 DEBUG 7620 --- [http-nio-8080-exec-10] c.w.b.d.U.findByUsernameAndPassword      : ==>  Preparing: select * from blog.user where username = ? and password = ?; 
2020-08-04 00:17:54.133 DEBUG 7620 --- [http-nio-8080-exec-10] c.w.b.d.U.findByUsernameAndPassword      : ==> Parameters: wjw(String), e10adc3949ba59abbe56e057f20f883e(String)
2020-08-04 00:17:54.139 DEBUG 7620 --- [http-nio-8080-exec-10] c.w.b.d.U.findByUsernameAndPassword      : <==      Total: 1
2020-08-04 00:17:55.311 DEBUG 7620 --- [http-nio-8080-exec-6] c.w.b.dao.BlogDao.getAllBlogQuery_COUNT  : ==>  Preparing: SELECT count(0) FROM blog.blog b LEFT JOIN blog.type t ON b.type_id = t.id 
2020-08-04 00:17:55.311 DEBUG 7620 --- [http-nio-8080-exec-6] c.w.b.dao.BlogDao.getAllBlogQuery_COUNT  : ==> Parameters: 
2020-08-04 00:17:55.313 DEBUG 7620 --- [http-nio-8080-exec-6] c.w.b.dao.BlogDao.getAllBlogQuery_COUNT  : <==      Total: 1
2020-08-04 00:17:55.314 DEBUG 7620 --- [http-nio-8080-exec-6] c.wjw.blog.dao.BlogDao.getAllBlogQuery   : ==>  Preparing: select b.id bid, b.title, b.update_time, b.recommend, b.type_id, b.publish, t.id tid, t.name from blog.blog b left join blog.type t on b.type_id = t.id order by b.update_time desc LIMIT ? 
2020-08-04 00:17:55.314 DEBUG 7620 --- [http-nio-8080-exec-6] c.wjw.blog.dao.BlogDao.getAllBlogQuery   : ==> Parameters: 6(Integer)
2020-08-04 00:17:55.319 DEBUG 7620 --- [http-nio-8080-exec-6] c.wjw.blog.dao.BlogDao.getAllBlogQuery   : <==      Total: 6
2020-08-04 00:17:55.324 DEBUG 7620 --- [http-nio-8080-exec-6] com.wjw.blog.dao.TypeDao.getAdminType    : ==>  Preparing: select * from blog.type order by name 
2020-08-04 00:17:55.325 DEBUG 7620 --- [http-nio-8080-exec-6] com.wjw.blog.dao.TypeDao.getAdminType    : ==> Parameters: 
2020-08-04 00:17:55.327 DEBUG 7620 --- [http-nio-8080-exec-6] com.wjw.blog.dao.TypeDao.getAdminType    : <==      Total: 6
2020-08-04 00:17:57.141 DEBUG 7620 --- [http-nio-8080-exec-7] com.wjw.blog.dao.TagDao.getAdminTag      : ==>  Preparing: select * from blog.tag order by name 
2020-08-04 00:17:57.141 DEBUG 7620 --- [http-nio-8080-exec-7] com.wjw.blog.dao.TagDao.getAdminTag      : ==> Parameters: 
2020-08-04 00:17:57.143 DEBUG 7620 --- [http-nio-8080-exec-7] com.wjw.blog.dao.TagDao.getAdminTag      : <==      Total: 5
2020-08-04 00:17:57.143 DEBUG 7620 --- [http-nio-8080-exec-7] com.wjw.blog.dao.BlogDao.getBlogById     : ==>  Preparing: select b.id, b.publish, b.flag, b.title, b.content, b.type_id, b.first_picture, b.description, b.recommend, b.comment, b.tag_ids from blog.blog b where b.id = ? 
2020-08-04 00:17:57.144 DEBUG 7620 --- [http-nio-8080-exec-7] com.wjw.blog.dao.BlogDao.getBlogById     : ==> Parameters: 1596441327066(Long)
2020-08-04 00:17:57.145 DEBUG 7620 --- [http-nio-8080-exec-7] com.wjw.blog.dao.BlogDao.getBlogById     : <==      Total: 1
2020-08-04 00:17:57.146 DEBUG 7620 --- [http-nio-8080-exec-7] com.wjw.blog.dao.TypeDao.getAdminType    : ==>  Preparing: select * from blog.type order by name 
2020-08-04 00:17:57.146 DEBUG 7620 --- [http-nio-8080-exec-7] com.wjw.blog.dao.TypeDao.getAdminType    : ==> Parameters: 
2020-08-04 00:17:57.151 DEBUG 7620 --- [http-nio-8080-exec-7] com.wjw.blog.dao.TypeDao.getAdminType    : <==      Total: 6
2020-08-04 00:17:57.152 DEBUG 7620 --- [http-nio-8080-exec-7] com.wjw.blog.dao.TagDao.getAdminTag      : ==>  Preparing: select * from blog.tag order by name 
2020-08-04 00:17:57.152 DEBUG 7620 --- [http-nio-8080-exec-7] com.wjw.blog.dao.TagDao.getAdminTag      : ==> Parameters: 
2020-08-04 00:17:57.154 DEBUG 7620 --- [http-nio-8080-exec-7] com.wjw.blog.dao.TagDao.getAdminTag      : <==      Total: 5
2020-08-04 00:19:18.442 DEBUG 7620 --- [http-nio-8080-exec-8] c.wjw.blog.dao.BlogDao.deleteBlogAndTag  : ==>  Preparing: delete from blog.blog_tag where blog_id = ? 
2020-08-04 00:19:18.442 DEBUG 7620 --- [http-nio-8080-exec-8] c.wjw.blog.dao.BlogDao.deleteBlogAndTag  : ==> Parameters: 1596441327066(Long)
2020-08-04 00:19:18.447 DEBUG 7620 --- [http-nio-8080-exec-8] c.wjw.blog.dao.BlogDao.deleteBlogAndTag  : <==    Updates: 1
2020-08-04 00:19:18.449 DEBUG 7620 --- [http-nio-8080-exec-8] com.wjw.blog.dao.BlogDao.saveBlogAndTag  : ==>  Preparing: insert into blog.blog_tag (blog_id, tag_id) values (?, ?); 
2020-08-04 00:19:18.449 DEBUG 7620 --- [http-nio-8080-exec-8] com.wjw.blog.dao.BlogDao.saveBlogAndTag  : ==> Parameters: 1596441327066(Long), 26(Long)
2020-08-04 00:19:18.451 DEBUG 7620 --- [http-nio-8080-exec-8] com.wjw.blog.dao.BlogDao.saveBlogAndTag  : <==    Updates: 1
2020-08-04 00:19:18.452 DEBUG 7620 --- [http-nio-8080-exec-8] com.wjw.blog.dao.BlogDao.updateBlog      : ==>  Preparing: update blog.blog set publish = ?, flag = ?, title = ?, content = ?, type_id = ?, first_picture = ?, description = ?, recommend = ?, comment = ?, update_time = ?, tag_ids = ? where id = ? 
2020-08-04 00:19:18.455 DEBUG 7620 --- [http-nio-8080-exec-8] com.wjw.blog.dao.BlogDao.updateBlog      : ==> Parameters: true(Boolean), 转载(String), Java——String(String), # String

String 类被 final修饰，因此它不可被继承。(Integer 等包装类也不能被继承）

String的成员变量被final和private修饰，所以初始化后不可更改引用，外界也不能更改

## 不可变的好处

**1. 可以缓存 hash 值**

因为 String 的 hash 值经常被使用，例如 String 用做 HashMap 的 key。不可变的特性可以使得 hash 值也不可变，因此只需要进行一次计算。

**2. String Pool 的需要**

如果一个 String 对象已经被创建过了，那么就会从 String Pool 中取得引用。只有 String 是不可变的，才可能使用 String Pool。

[![img](https://camo.githubusercontent.com/152a310f7698bb23ae201081c5c497b5c1d396d9/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f696d6167652d32303139313231303030343133323839342e706e67)](https://camo.githubusercontent.com/152a310f7698bb23ae201081c5c497b5c1d396d9/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f696d6167652d32303139313231303030343133323839342e706e67)



**3. 安全性**

String 经常作为参数，String 不可变性可以保证参数不可变。例如在作为网络连接参数的情况下，如果 String 是可变的，那么在网络连接过程中，String 被改变，改变 String 的那一方以为现在连接的是其它主机，而实际情况却不一定是。

**4. 线程安全**

String 不可变性天生具备线程安全，可以在多个线程中安全地使用。



# String，StringBuffer，StringBuilder

**1. 可变性**

- String 不可变
- StringBuffer 和 StringBuilder 可变

**2. 线程安全**

- String 不可变，因此是线程安全的
- StringBuilder 不是线程安全的
- StringBuffer 是线程安全的，内部使用 synchronized 进行同步

[StackOverflow : String, StringBuffer, and StringBuilder](https://stackoverflow.com/questions/2971315/string-stringbuffer-and-stringbuilder)



# String Pool

字符串常量池（String Pool）保存着所有字符串字面量（literal strings），这些字面量在编译时期就确定。不仅如此，还可以使用 String 的 intern() 方法在运行过程将字符串添加到 String Pool 中。

当一个字符串调用 intern() 方法时，如果 String Pool 中已经存在一个字符串和该字符串值相等（使用 equals() 方法进行确定），那么就会返回 String Pool 中字符串的引用；否则，就会在 String Pool 中添加一个新的字符串，并返回这个新字符串的引用。

下面示例中，s1 和 s2 采用 new String() 的方式新建了两个不同字符串，而 s3 和 s4 是通过 s1.intern() 方法取得同一个字符串引用。intern() 首先把 s1 引用的字符串放到 String Pool 中，然后返回这个字符串引用。因此 s3 和 s4 引用的是同一个字符串。

```
String s1 = new String("aaa");
String s2 = new String("aaa");
System.out.println(s1 == s2);           // false
String s3 = s1.intern();
String s4 = s1.intern();
System.out.println(s3 == s4);           // true
```

如果是采用 "bbb" 这种字面量的形式创建字符串，会自动地将字符串放入 String Pool 中。

```
String s5 = "bbb";
String s6 = "bbb";
System.out.println(s5 == s6);  // true
```

### new String("abc")

使用这种方式一共会创建两个字符串对象（前提是 String Pool 中还没有 "abc" 字符串对象）。

- "abc" 属于字符串字面量，因此编译时期会在 String Pool 中创建一个字符串对象，指向这个 "abc" 字符串字面量；
- 而使用 new 的方式会在堆中创建一个字符串对象。

### String创建对象问题

[https://www.cnblogs.com/chenghuanhuaning/articles/11255642.html](https://www.cnblogs.com/chenghuanhuaning/articles/11255642.html)(String), 31(Long), https://picsum.photos/id/465/800/450(String), 记录了String、StringBuilder、StringBuffer以及String Pool的基本知识，还附带了String创建对象的问题。摘自https://github.com/CyC2018/CS-Notes(String), true(Boolean), true(Boolean), 2020-08-04 00:19:18.448(Timestamp), 26(String), 1596441327066(Long)
2020-08-04 00:19:18.457 DEBUG 7620 --- [http-nio-8080-exec-8] com.wjw.blog.dao.BlogDao.updateBlog      : <==    Updates: 1
2020-08-04 00:19:18.920 DEBUG 7620 --- [http-nio-8080-exec-1] c.w.b.dao.BlogDao.getAllBlogQuery_COUNT  : ==>  Preparing: SELECT count(0) FROM blog.blog b LEFT JOIN blog.type t ON b.type_id = t.id 
2020-08-04 00:19:18.921 DEBUG 7620 --- [http-nio-8080-exec-1] c.w.b.dao.BlogDao.getAllBlogQuery_COUNT  : ==> Parameters: 
2020-08-04 00:19:18.922 DEBUG 7620 --- [http-nio-8080-exec-1] c.w.b.dao.BlogDao.getAllBlogQuery_COUNT  : <==      Total: 1
2020-08-04 00:19:18.923 DEBUG 7620 --- [http-nio-8080-exec-1] c.wjw.blog.dao.BlogDao.getAllBlogQuery   : ==>  Preparing: select b.id bid, b.title, b.update_time, b.recommend, b.type_id, b.publish, t.id tid, t.name from blog.blog b left join blog.type t on b.type_id = t.id order by b.update_time desc LIMIT ? 
2020-08-04 00:19:18.924 DEBUG 7620 --- [http-nio-8080-exec-1] c.wjw.blog.dao.BlogDao.getAllBlogQuery   : ==> Parameters: 6(Integer)
2020-08-04 00:19:18.929 DEBUG 7620 --- [http-nio-8080-exec-1] c.wjw.blog.dao.BlogDao.getAllBlogQuery   : <==      Total: 6
2020-08-04 00:19:18.930 DEBUG 7620 --- [http-nio-8080-exec-1] com.wjw.blog.dao.TypeDao.getAdminType    : ==>  Preparing: select * from blog.type order by name 
2020-08-04 00:19:18.932 DEBUG 7620 --- [http-nio-8080-exec-1] com.wjw.blog.dao.TypeDao.getAdminType    : ==> Parameters: 
2020-08-04 00:19:18.935 DEBUG 7620 --- [http-nio-8080-exec-1] com.wjw.blog.dao.TypeDao.getAdminType    : <==      Total: 6
2020-08-04 00:19:24.521  INFO 7620 --- [http-nio-8080-exec-2] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.index', args=[{}, 1]}
2020-08-04 00:19:24.528 DEBUG 7620 --- [http-nio-8080-exec-2] c.w.b.dao.BlogDao.getAllBlogShow_COUNT   : ==>  Preparing: SELECT count(0) FROM blog.blog b, blog.type t, blog.user u WHERE b.type_id = t.id AND b.user_id = u.id AND b.publish = 1 
2020-08-04 00:19:24.528 DEBUG 7620 --- [http-nio-8080-exec-2] c.w.b.dao.BlogDao.getAllBlogShow_COUNT   : ==> Parameters: 
2020-08-04 00:19:24.530 DEBUG 7620 --- [http-nio-8080-exec-2] c.w.b.dao.BlogDao.getAllBlogShow_COUNT   : <==      Total: 1
2020-08-04 00:19:24.531 DEBUG 7620 --- [http-nio-8080-exec-2] com.wjw.blog.dao.BlogDao.getAllBlogShow  : ==>  Preparing: select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name, u.nickname, u.avatar from blog.blog b, blog.type t, blog.user u where b.type_id = t.id and b.user_id = u.id and b.publish = 1 order by b.update_time desc LIMIT ? 
2020-08-04 00:19:24.531 DEBUG 7620 --- [http-nio-8080-exec-2] com.wjw.blog.dao.BlogDao.getAllBlogShow  : ==> Parameters: 4(Integer)
2020-08-04 00:19:24.534 DEBUG 7620 --- [http-nio-8080-exec-2] com.wjw.blog.dao.BlogDao.getAllBlogShow  : <==      Total: 4
2020-08-04 00:19:24.534 DEBUG 7620 --- [http-nio-8080-exec-2] com.wjw.blog.dao.TypeDao.getAllType      : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from blog.type t, blog.blog b where t.id = b.type_id 
2020-08-04 00:19:24.535 DEBUG 7620 --- [http-nio-8080-exec-2] com.wjw.blog.dao.TypeDao.getAllType      : ==> Parameters: 
2020-08-04 00:19:24.538 DEBUG 7620 --- [http-nio-8080-exec-2] com.wjw.blog.dao.TypeDao.getAllType      : <==      Total: 14
2020-08-04 00:19:24.544 DEBUG 7620 --- [http-nio-8080-exec-2] com.wjw.blog.dao.TagDao.getAllTag        : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from blog.tag t, blog.blog b, blog.blog_tag bt where t.id = bt.tag_id and b.id = bt.blog_id 
2020-08-04 00:19:24.544 DEBUG 7620 --- [http-nio-8080-exec-2] com.wjw.blog.dao.TagDao.getAllTag        : ==> Parameters: 
2020-08-04 00:19:24.548 DEBUG 7620 --- [http-nio-8080-exec-2] com.wjw.blog.dao.TagDao.getAllTag        : <==      Total: 14
2020-08-04 00:19:24.550 DEBUG 7620 --- [http-nio-8080-exec-2] c.w.b.dao.BlogDao.getAllRecommendBlog    : ==>  Preparing: select id, title, recommend from blog.blog where recommend = 1 
2020-08-04 00:19:24.550 DEBUG 7620 --- [http-nio-8080-exec-2] c.w.b.dao.BlogDao.getAllRecommendBlog    : ==> Parameters: 
2020-08-04 00:19:24.552 DEBUG 7620 --- [http-nio-8080-exec-2] c.w.b.dao.BlogDao.getAllRecommendBlog    : <==      Total: 13
2020-08-04 00:19:24.553  INFO 7620 --- [http-nio-8080-exec-2] com.wjw.blog.aspect.LogAspect            : Result : index
2020-08-04 00:19:29.964  INFO 7620 --- [http-nio-8080-exec-10] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/blog/1596441327066', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.blog', args=[1596441327066, {}]}
2020-08-04 00:19:29.969 DEBUG 7620 --- [http-nio-8080-exec-10] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==>  Preparing: select b.id bid, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time, b.create_time, b.comment, u.nickname,u.avatar, t.id tid ,t.name from blog.blog b,blog.user u,blog.tag t,blog.blog_tag tb where b.user_id = u.id and tb.blog_id = b.id and tb.tag_id = t.id and b.id = ? 
2020-08-04 00:19:29.970 DEBUG 7620 --- [http-nio-8080-exec-10] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==> Parameters: 1596441327066(Long)
2020-08-04 00:19:29.973 DEBUG 7620 --- [http-nio-8080-exec-10] com.wjw.blog.dao.BlogDao.getBlogDetail   : <==      Total: 1
2020-08-04 00:19:29.977  INFO 7620 --- [http-nio-8080-exec-10] com.wjw.blog.aspect.LogAspect            : Result : blog
2020-08-04 00:30:03.436  INFO 12724 --- [restartedMain] com.wjw.blog.BlogApplication             : Starting BlogApplication on LAPTOP-389VIUI1 with PID 12724 (E:\java workspace\blog\target\classes started by 王金伟 in E:\java workspace\blog)
2020-08-04 00:30:03.439 DEBUG 12724 --- [restartedMain] com.wjw.blog.BlogApplication             : Running with Spring Boot v2.3.0.RELEASE, Spring v5.2.6.RELEASE
2020-08-04 00:30:03.439  INFO 12724 --- [restartedMain] com.wjw.blog.BlogApplication             : No active profile set, falling back to default profiles: default
2020-08-04 00:30:03.613  INFO 12724 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-08-04 00:30:03.614  INFO 12724 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-08-04 00:30:06.714  INFO 12724 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-08-04 00:30:06.722  INFO 12724 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-04 00:30:06.722  INFO 12724 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]
2020-08-04 00:30:06.816  INFO 12724 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-04 00:30:06.817  INFO 12724 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3203 ms
2020-08-04 00:30:07.498  INFO 12724 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-04 00:30:07.605  INFO 12724 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-08-04 00:30:07.968  INFO 12724 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-08-04 00:30:08.002  INFO 12724 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-08-04 00:30:08.013  INFO 12724 --- [restartedMain] com.wjw.blog.BlogApplication             : Started BlogApplication in 5.183 seconds (JVM running for 6.705)
2020-08-04 00:30:12.367  INFO 12724 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-04 00:30:12.367  INFO 12724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-04 00:30:12.385  INFO 12724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 18 ms
2020-08-04 00:30:12.417  INFO 12724 --- [http-nio-8080-exec-1] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.index', args=[{}, 1]}
2020-08-04 00:30:12.471  INFO 12724 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-04 00:30:13.322  INFO 12724 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-04 00:30:13.330 DEBUG 12724 --- [http-nio-8080-exec-1] c.w.b.dao.BlogDao.getAllBlogShow_COUNT   : ==>  Preparing: SELECT count(0) FROM blog.blog b, blog.type t, blog.user u WHERE b.type_id = t.id AND b.user_id = u.id AND b.publish = 1 
2020-08-04 00:30:13.371 DEBUG 12724 --- [http-nio-8080-exec-1] c.w.b.dao.BlogDao.getAllBlogShow_COUNT   : ==> Parameters: 
2020-08-04 00:30:13.398 DEBUG 12724 --- [http-nio-8080-exec-1] c.w.b.dao.BlogDao.getAllBlogShow_COUNT   : <==      Total: 1
2020-08-04 00:30:13.403 DEBUG 12724 --- [http-nio-8080-exec-1] com.wjw.blog.dao.BlogDao.getAllBlogShow  : ==>  Preparing: select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name, u.nickname, u.avatar from blog.blog b, blog.type t, blog.user u where b.type_id = t.id and b.user_id = u.id and b.publish = 1 order by b.update_time desc LIMIT ? 
2020-08-04 00:30:13.404 DEBUG 12724 --- [http-nio-8080-exec-1] com.wjw.blog.dao.BlogDao.getAllBlogShow  : ==> Parameters: 4(Integer)
2020-08-04 00:30:13.410 DEBUG 12724 --- [http-nio-8080-exec-1] com.wjw.blog.dao.BlogDao.getAllBlogShow  : <==      Total: 4
2020-08-04 00:30:13.417 DEBUG 12724 --- [http-nio-8080-exec-1] com.wjw.blog.dao.TypeDao.getAllType      : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from blog.type t, blog.blog b where t.id = b.type_id 
2020-08-04 00:30:13.417 DEBUG 12724 --- [http-nio-8080-exec-1] com.wjw.blog.dao.TypeDao.getAllType      : ==> Parameters: 
2020-08-04 00:30:13.425 DEBUG 12724 --- [http-nio-8080-exec-1] com.wjw.blog.dao.TypeDao.getAllType      : <==      Total: 14
2020-08-04 00:30:13.432 DEBUG 12724 --- [http-nio-8080-exec-1] com.wjw.blog.dao.TagDao.getAllTag        : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from blog.tag t, blog.blog b, blog.blog_tag bt where t.id = bt.tag_id and b.id = bt.blog_id 
2020-08-04 00:30:13.433 DEBUG 12724 --- [http-nio-8080-exec-1] com.wjw.blog.dao.TagDao.getAllTag        : ==> Parameters: 
2020-08-04 00:30:13.439 DEBUG 12724 --- [http-nio-8080-exec-1] com.wjw.blog.dao.TagDao.getAllTag        : <==      Total: 14
2020-08-04 00:30:13.440 DEBUG 12724 --- [http-nio-8080-exec-1] c.w.b.dao.BlogDao.getAllRecommendBlog    : ==>  Preparing: select id, title, recommend from blog.blog where recommend = 1 
2020-08-04 00:30:13.441 DEBUG 12724 --- [http-nio-8080-exec-1] c.w.b.dao.BlogDao.getAllRecommendBlog    : ==> Parameters: 
2020-08-04 00:30:13.444 DEBUG 12724 --- [http-nio-8080-exec-1] c.w.b.dao.BlogDao.getAllRecommendBlog    : <==      Total: 13
2020-08-04 00:30:13.445  INFO 12724 --- [http-nio-8080-exec-1] com.wjw.blog.aspect.LogAspect            : Result : index
2020-08-04 00:30:17.895  INFO 12724 --- [http-nio-8080-exec-5] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.index', args=[{}, 2]}
2020-08-04 00:30:17.900 DEBUG 12724 --- [http-nio-8080-exec-5] c.w.b.dao.BlogDao.getAllBlogShow_COUNT   : ==>  Preparing: SELECT count(0) FROM blog.blog b, blog.type t, blog.user u WHERE b.type_id = t.id AND b.user_id = u.id AND b.publish = 1 
2020-08-04 00:30:17.900 DEBUG 12724 --- [http-nio-8080-exec-5] c.w.b.dao.BlogDao.getAllBlogShow_COUNT   : ==> Parameters: 
2020-08-04 00:30:17.902 DEBUG 12724 --- [http-nio-8080-exec-5] c.w.b.dao.BlogDao.getAllBlogShow_COUNT   : <==      Total: 1
2020-08-04 00:30:17.904 DEBUG 12724 --- [http-nio-8080-exec-5] com.wjw.blog.dao.BlogDao.getAllBlogShow  : ==>  Preparing: select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name, u.nickname, u.avatar from blog.blog b, blog.type t, blog.user u where b.type_id = t.id and b.user_id = u.id and b.publish = 1 order by b.update_time desc LIMIT ?, ? 
2020-08-04 00:30:17.904 DEBUG 12724 --- [http-nio-8080-exec-5] com.wjw.blog.dao.BlogDao.getAllBlogShow  : ==> Parameters: 4(Integer), 4(Integer)
2020-08-04 00:30:17.907 DEBUG 12724 --- [http-nio-8080-exec-5] com.wjw.blog.dao.BlogDao.getAllBlogShow  : <==      Total: 4
2020-08-04 00:30:17.908 DEBUG 12724 --- [http-nio-8080-exec-5] com.wjw.blog.dao.TypeDao.getAllType      : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from blog.type t, blog.blog b where t.id = b.type_id 
2020-08-04 00:30:17.908 DEBUG 12724 --- [http-nio-8080-exec-5] com.wjw.blog.dao.TypeDao.getAllType      : ==> Parameters: 
2020-08-04 00:30:17.912 DEBUG 12724 --- [http-nio-8080-exec-5] com.wjw.blog.dao.TypeDao.getAllType      : <==      Total: 14
2020-08-04 00:30:17.913 DEBUG 12724 --- [http-nio-8080-exec-5] com.wjw.blog.dao.TagDao.getAllTag        : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from blog.tag t, blog.blog b, blog.blog_tag bt where t.id = bt.tag_id and b.id = bt.blog_id 
2020-08-04 00:30:17.913 DEBUG 12724 --- [http-nio-8080-exec-5] com.wjw.blog.dao.TagDao.getAllTag        : ==> Parameters: 
2020-08-04 00:30:17.916 DEBUG 12724 --- [http-nio-8080-exec-5] com.wjw.blog.dao.TagDao.getAllTag        : <==      Total: 14
2020-08-04 00:30:17.916 DEBUG 12724 --- [http-nio-8080-exec-5] c.w.b.dao.BlogDao.getAllRecommendBlog    : ==>  Preparing: select id, title, recommend from blog.blog where recommend = 1 
2020-08-04 00:30:17.916 DEBUG 12724 --- [http-nio-8080-exec-5] c.w.b.dao.BlogDao.getAllRecommendBlog    : ==> Parameters: 
2020-08-04 00:30:17.920 DEBUG 12724 --- [http-nio-8080-exec-5] c.w.b.dao.BlogDao.getAllRecommendBlog    : <==      Total: 13
2020-08-04 00:30:17.921  INFO 12724 --- [http-nio-8080-exec-5] com.wjw.blog.aspect.LogAspect            : Result : index
2020-08-04 00:30:22.018  INFO 12724 --- [http-nio-8080-exec-9] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/blog/1596213997903', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.blog', args=[1596213997903, {}]}
2020-08-04 00:30:22.021 DEBUG 12724 --- [http-nio-8080-exec-9] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==>  Preparing: select b.id bid, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time, b.create_time, b.comment, u.nickname,u.avatar, t.id tid ,t.name from blog.blog b,blog.user u,blog.tag t,blog.blog_tag tb where b.user_id = u.id and tb.blog_id = b.id and tb.tag_id = t.id and b.id = ? 
2020-08-04 00:30:22.021 DEBUG 12724 --- [http-nio-8080-exec-9] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==> Parameters: 1596213997903(Long)
2020-08-04 00:30:22.023 DEBUG 12724 --- [http-nio-8080-exec-9] com.wjw.blog.dao.BlogDao.getBlogDetail   : <==      Total: 1
2020-08-04 00:30:22.057  INFO 12724 --- [http-nio-8080-exec-9] com.wjw.blog.aspect.LogAspect            : Result : blog
2020-08-04 00:31:29.779 DEBUG 12724 --- [http-nio-8080-exec-3] c.w.b.d.U.findByUsernameAndPassword      : ==>  Preparing: select * from blog.user where username = ? and password = ?; 
2020-08-04 00:31:29.780 DEBUG 12724 --- [http-nio-8080-exec-3] c.w.b.d.U.findByUsernameAndPassword      : ==> Parameters: wjw(String), e10adc3949ba59abbe56e057f20f883e(String)
2020-08-04 00:31:29.783 DEBUG 12724 --- [http-nio-8080-exec-3] c.w.b.d.U.findByUsernameAndPassword      : <==      Total: 1
2020-08-04 00:31:33.869 DEBUG 12724 --- [http-nio-8080-exec-8] c.w.b.dao.BlogDao.getAllBlogQuery_COUNT  : ==>  Preparing: SELECT count(0) FROM blog.blog b LEFT JOIN blog.type t ON b.type_id = t.id 
2020-08-04 00:31:33.869 DEBUG 12724 --- [http-nio-8080-exec-8] c.w.b.dao.BlogDao.getAllBlogQuery_COUNT  : ==> Parameters: 
2020-08-04 00:31:33.871 DEBUG 12724 --- [http-nio-8080-exec-8] c.w.b.dao.BlogDao.getAllBlogQuery_COUNT  : <==      Total: 1
2020-08-04 00:31:33.872 DEBUG 12724 --- [http-nio-8080-exec-8] c.wjw.blog.dao.BlogDao.getAllBlogQuery   : ==>  Preparing: select b.id bid, b.title, b.update_time, b.recommend, b.type_id, b.publish, t.id tid, t.name from blog.blog b left join blog.type t on b.type_id = t.id order by b.update_time desc LIMIT ? 
2020-08-04 00:31:33.872 DEBUG 12724 --- [http-nio-8080-exec-8] c.wjw.blog.dao.BlogDao.getAllBlogQuery   : ==> Parameters: 6(Integer)
2020-08-04 00:31:33.877 DEBUG 12724 --- [http-nio-8080-exec-8] c.wjw.blog.dao.BlogDao.getAllBlogQuery   : <==      Total: 6
2020-08-04 00:31:33.878 DEBUG 12724 --- [http-nio-8080-exec-8] com.wjw.blog.dao.TypeDao.getAdminType    : ==>  Preparing: select * from blog.type order by name 
2020-08-04 00:31:33.878 DEBUG 12724 --- [http-nio-8080-exec-8] com.wjw.blog.dao.TypeDao.getAdminType    : ==> Parameters: 
2020-08-04 00:31:33.880 DEBUG 12724 --- [http-nio-8080-exec-8] com.wjw.blog.dao.TypeDao.getAdminType    : <==      Total: 6
2020-08-04 00:31:35.788 DEBUG 12724 --- [http-nio-8080-exec-2] c.w.b.dao.BlogDao.getAllBlogQuery_COUNT  : ==>  Preparing: SELECT count(0) FROM blog.blog b LEFT JOIN blog.type t ON b.type_id = t.id 
2020-08-04 00:31:35.789 DEBUG 12724 --- [http-nio-8080-exec-2] c.w.b.dao.BlogDao.getAllBlogQuery_COUNT  : ==> Parameters: 
2020-08-04 00:31:35.792 DEBUG 12724 --- [http-nio-8080-exec-2] c.w.b.dao.BlogDao.getAllBlogQuery_COUNT  : <==      Total: 1
2020-08-04 00:31:35.794 DEBUG 12724 --- [http-nio-8080-exec-2] c.wjw.blog.dao.BlogDao.getAllBlogQuery   : ==>  Preparing: select b.id bid, b.title, b.update_time, b.recommend, b.type_id, b.publish, t.id tid, t.name from blog.blog b left join blog.type t on b.type_id = t.id order by b.update_time desc LIMIT ?, ? 
2020-08-04 00:31:35.794 DEBUG 12724 --- [http-nio-8080-exec-2] c.wjw.blog.dao.BlogDao.getAllBlogQuery   : ==> Parameters: 6(Integer), 6(Integer)
2020-08-04 00:31:35.800 DEBUG 12724 --- [http-nio-8080-exec-2] c.wjw.blog.dao.BlogDao.getAllBlogQuery   : <==      Total: 6
2020-08-04 00:31:35.800 DEBUG 12724 --- [http-nio-8080-exec-2] com.wjw.blog.dao.TypeDao.getAdminType    : ==>  Preparing: select * from blog.type order by name 
2020-08-04 00:31:35.800 DEBUG 12724 --- [http-nio-8080-exec-2] com.wjw.blog.dao.TypeDao.getAdminType    : ==> Parameters: 
2020-08-04 00:31:35.802 DEBUG 12724 --- [http-nio-8080-exec-2] com.wjw.blog.dao.TypeDao.getAdminType    : <==      Total: 6
2020-08-04 00:31:37.855 DEBUG 12724 --- [http-nio-8080-exec-6] com.wjw.blog.dao.TagDao.getAdminTag      : ==>  Preparing: select * from blog.tag order by name 
2020-08-04 00:31:37.855 DEBUG 12724 --- [http-nio-8080-exec-6] com.wjw.blog.dao.TagDao.getAdminTag      : ==> Parameters: 
2020-08-04 00:31:37.857 DEBUG 12724 --- [http-nio-8080-exec-6] com.wjw.blog.dao.TagDao.getAdminTag      : <==      Total: 5
2020-08-04 00:31:37.859 DEBUG 12724 --- [http-nio-8080-exec-6] com.wjw.blog.dao.BlogDao.getBlogById     : ==>  Preparing: select b.id, b.publish, b.flag, b.title, b.content, b.type_id, b.first_picture, b.description, b.recommend, b.comment, b.tag_ids from blog.blog b where b.id = ? 
2020-08-04 00:31:37.859 DEBUG 12724 --- [http-nio-8080-exec-6] com.wjw.blog.dao.BlogDao.getBlogById     : ==> Parameters: 1596213997903(Long)
2020-08-04 00:31:37.861 DEBUG 12724 --- [http-nio-8080-exec-6] com.wjw.blog.dao.BlogDao.getBlogById     : <==      Total: 1
2020-08-04 00:31:37.862 DEBUG 12724 --- [http-nio-8080-exec-6] com.wjw.blog.dao.TypeDao.getAdminType    : ==>  Preparing: select * from blog.type order by name 
2020-08-04 00:31:37.863 DEBUG 12724 --- [http-nio-8080-exec-6] com.wjw.blog.dao.TypeDao.getAdminType    : ==> Parameters: 
2020-08-04 00:31:37.864 DEBUG 12724 --- [http-nio-8080-exec-6] com.wjw.blog.dao.TypeDao.getAdminType    : <==      Total: 6
2020-08-04 00:31:37.864 DEBUG 12724 --- [http-nio-8080-exec-6] com.wjw.blog.dao.TagDao.getAdminTag      : ==>  Preparing: select * from blog.tag order by name 
2020-08-04 00:31:37.864 DEBUG 12724 --- [http-nio-8080-exec-6] com.wjw.blog.dao.TagDao.getAdminTag      : ==> Parameters: 
2020-08-04 00:31:37.865 DEBUG 12724 --- [http-nio-8080-exec-6] com.wjw.blog.dao.TagDao.getAdminTag      : <==      Total: 5
2020-08-04 00:33:47.990 DEBUG 12724 --- [http-nio-8080-exec-6] c.wjw.blog.dao.BlogDao.deleteBlogAndTag  : ==>  Preparing: delete from blog.blog_tag where blog_id = ? 
2020-08-04 00:33:47.991 DEBUG 12724 --- [http-nio-8080-exec-6] c.wjw.blog.dao.BlogDao.deleteBlogAndTag  : ==> Parameters: 1596213997903(Long)
2020-08-04 00:33:47.993 DEBUG 12724 --- [http-nio-8080-exec-6] c.wjw.blog.dao.BlogDao.deleteBlogAndTag  : <==    Updates: 1
2020-08-04 00:33:47.995 DEBUG 12724 --- [http-nio-8080-exec-6] com.wjw.blog.dao.BlogDao.saveBlogAndTag  : ==>  Preparing: insert into blog.blog_tag (blog_id, tag_id) values (?, ?); 
2020-08-04 00:33:47.996 DEBUG 12724 --- [http-nio-8080-exec-6] com.wjw.blog.dao.BlogDao.saveBlogAndTag  : ==> Parameters: 1596213997903(Long), 26(Long)
2020-08-04 00:33:47.997 DEBUG 12724 --- [http-nio-8080-exec-6] com.wjw.blog.dao.BlogDao.saveBlogAndTag  : <==    Updates: 1
2020-08-04 00:33:47.998 DEBUG 12724 --- [http-nio-8080-exec-6] com.wjw.blog.dao.BlogDao.updateBlog      : ==>  Preparing: update blog.blog set publish = ?, flag = ?, title = ?, content = ?, type_id = ?, first_picture = ?, description = ?, recommend = ?, comment = ?, update_time = ?, tag_ids = ? where id = ? 
2020-08-04 00:33:47.999 DEBUG 12724 --- [http-nio-8080-exec-6] com.wjw.blog.dao.BlogDao.updateBlog      : ==> Parameters: true(Boolean), 转载(String), Java——基本类型与包装类(String), # 基本数据类型

![](https://images2017.cnblogs.com/blog/1170065/201801/1170065-20180104154110299-576214776.png)

整形常量默认为int，浮点型常量默认为double

+两边如果有String类型就是连接符，否则是运算符



# 包装类

基本类型都有对应的包装类型，基本类型与其对应的包装类型之间的赋值使用自动装箱与拆箱完成。

```java
Integer x = 2;     // 装箱 调用了 Integer.valueOf(2)
int y = x;         // 拆箱 调用了 X.intValue()
```

## 用途

- 集合不允许存放基本数据类型，故常用包装类
- 包含了每种基本类型的相关属性，如最大值，最小值，所占位数等
- 作为基本数据类型对应的类类型，提供了一系列实用的对象操作，如类型转换，进制转换等

## 和基本类型的对比

- 通过引用指向实例，具体的实例保存在堆里；基本类型直接保存值在栈里
- 初值为null；基本类型的初值视具体的类型而定

## 注意

- 无论如何，Integer与new Integer不会相等。不会经历拆箱过程，new出来的对象存放在堆中，而非new的Integer常量则在常量池（在方法区），他们的内存地址不一样，所以为false。

- 两个都是非new出来的Integer，如果数在-128到127之间，则是true,否则为false。

  ```java
  Integer x = new Integer(123);
  Integer y = new Integer(123);
  System.out.println(x == y);    // false
  Integer z = Integer.valueOf(123);
  Integer k = Integer.valueOf(123);
  System.out.println(z == k);   // true
  ```

- 两个都是new出来的,都为false。还是内存地址不一样。

- int和Integer(无论new否)比，都为true，因为会把Integer自动拆箱为int再去比。

## 基本类型对应的缓存池(缓存池中的对象已经创建好存在常量池中)

- boolean values true and false
- all byte values
- short values between -128 and 127
- int values between -128 and 127
- char in the range \u0000 to \u007F

在使用这些基本类型对应的包装类型时，如果该数值范围在缓存池范围内，就可以直接使用缓存池中的对象。

# float 和 double

Java 不能隐式执行向下转型，因为这会使得精度降低。

1.1 字面量属于 double 类型，不能直接将 1.1 直接赋值给 float 变量，因为这是向下转型。

```java
// float f = 1.1;
```

1.1f 字面量才是 float 类型。

```java
float f = 1.1f;
```



# 隐式类型转换

因为字面量 1 是 int 类型，它比 short 类型精度要高，因此不能隐式地将 int 类型向下转型为 short 类型。

```java
short s1 = 1;
// s1 = s1 + 1;
```

但是使用 += 或者 ++ 运算符会执行隐式类型转换。

```java
s1 += 1;
s1++;
```

上面的语句相当于将 s1 + 1 的计算结果进行了向下转型：

```java
s1 = (short) (s1 + 1);
```

(String), 31(Long), https://picsum.photos/id/1084/800/450(String), 记录了Java的基本类型和对应的包装类，以及float和double的一些基本知识。摘自https://github.com/CyC2018/CS-Notes(String), true(Boolean), true(Boolean), 2020-08-04 00:33:47.994(Timestamp), 26(String), 1596213997903(Long)
2020-08-04 00:33:48.001 DEBUG 12724 --- [http-nio-8080-exec-6] com.wjw.blog.dao.BlogDao.updateBlog      : <==    Updates: 1
2020-08-04 00:33:48.551 DEBUG 12724 --- [http-nio-8080-exec-5] c.w.b.dao.BlogDao.getAllBlogQuery_COUNT  : ==>  Preparing: SELECT count(0) FROM blog.blog b LEFT JOIN blog.type t ON b.type_id = t.id 
2020-08-04 00:33:48.552 DEBUG 12724 --- [http-nio-8080-exec-5] c.w.b.dao.BlogDao.getAllBlogQuery_COUNT  : ==> Parameters: 
2020-08-04 00:33:48.553 DEBUG 12724 --- [http-nio-8080-exec-5] c.w.b.dao.BlogDao.getAllBlogQuery_COUNT  : <==      Total: 1
2020-08-04 00:33:48.554 DEBUG 12724 --- [http-nio-8080-exec-5] c.wjw.blog.dao.BlogDao.getAllBlogQuery   : ==>  Preparing: select b.id bid, b.title, b.update_time, b.recommend, b.type_id, b.publish, t.id tid, t.name from blog.blog b left join blog.type t on b.type_id = t.id order by b.update_time desc LIMIT ? 
2020-08-04 00:33:48.554 DEBUG 12724 --- [http-nio-8080-exec-5] c.wjw.blog.dao.BlogDao.getAllBlogQuery   : ==> Parameters: 6(Integer)
2020-08-04 00:33:48.557 DEBUG 12724 --- [http-nio-8080-exec-5] c.wjw.blog.dao.BlogDao.getAllBlogQuery   : <==      Total: 6
2020-08-04 00:33:48.558 DEBUG 12724 --- [http-nio-8080-exec-5] com.wjw.blog.dao.TypeDao.getAdminType    : ==>  Preparing: select * from blog.type order by name 
2020-08-04 00:33:48.559 DEBUG 12724 --- [http-nio-8080-exec-5] com.wjw.blog.dao.TypeDao.getAdminType    : ==> Parameters: 
2020-08-04 00:33:48.560 DEBUG 12724 --- [http-nio-8080-exec-5] com.wjw.blog.dao.TypeDao.getAdminType    : <==      Total: 6
2020-08-04 00:33:50.485  INFO 12724 --- [http-nio-8080-exec-10] com.wjw.blog.aspect.LogAspect            : Request : url='http://localhost:8080/blog/1596213997903', ip='0:0:0:0:0:0:0:1', classMethod='com.wjw.blog.controller.IndexController.blog', args=[1596213997903, {}]}
2020-08-04 00:33:50.487 DEBUG 12724 --- [http-nio-8080-exec-10] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==>  Preparing: select b.id bid, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time, b.create_time, b.comment, u.nickname,u.avatar, t.id tid ,t.name from blog.blog b,blog.user u,blog.tag t,blog.blog_tag tb where b.user_id = u.id and tb.blog_id = b.id and tb.tag_id = t.id and b.id = ? 
2020-08-04 00:33:50.488 DEBUG 12724 --- [http-nio-8080-exec-10] com.wjw.blog.dao.BlogDao.getBlogDetail   : ==> Parameters: 1596213997903(Long)
2020-08-04 00:33:50.492 DEBUG 12724 --- [http-nio-8080-exec-10] com.wjw.blog.dao.BlogDao.getBlogDetail   : <==      Total: 1
2020-08-04 00:33:50.497  INFO 12724 --- [http-nio-8080-exec-10] com.wjw.blog.aspect.LogAspect            : Result : blog
